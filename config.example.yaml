# Basis-URL deiner Paperless-ngx Instanz (ohne abschließenden Slash)
paperless_url: "http://localhost:8000"

# API-Token aus Paperless (Benutzerprofil -> API Tokens)
paperless_token: "PASTE_PAPERLESS_TOKEN"

# API-Key für OpenAI-kompatiblen Anbieter (z. B. OpenAI, OpenRouter, Local Gateway)
ai_api_key: "PASTE_AI_KEY"

# Modellname beim jeweiligen Anbieter
ai_model: "gpt-4.1-mini"

# OpenAI-kompatible Basis-URL
# OpenAI: https://api.openai.com/v1
# Lokale Gateways sind ebenfalls möglich
ai_base_url: "https://api.openai.com/v1"

# Maximale Anzahl Dokumente pro Lauf
max_documents: 25

# true = nur anzeigen, nichts in Paperless zurückschreiben
dry_run: true

# Falls true: fehlende Tags/Typen/Korrespondenten/Ablagepfade automatisch anlegen
create_missing_entities: true

# Mindest-Confidence der KI (0-1), darunter wird übersprungen
confidence_threshold: 0.70

# API Timeout für Paperless und KI-Requests
request_timeout_seconds: 30

# Datei für Laufmetriken (Tokens/Kosten), wird pro Lauf aktualisiert
metrics_file: "run_metrics.json"

# DEBUG, INFO, WARNING, ERROR
log_level: "INFO"

# Optionaler Vorab-Check auf verfügbare API-Tokens über RateLimit-Header.
# Hinweis: Das ist NICHT das ChatGPT-Web-Abo-Kontingent.
enable_token_precheck: false

# Mindestanzahl verbleibender Tokens laut x-ratelimit-remaining-tokens Header.
# Nur relevant, wenn enable_token_precheck=true.
min_remaining_tokens: 1500

# Optional: Kostenmodell (EUR pro 1.000 Tokens)
# Trage hier die Werte deines Anbieters/Modells ein.
input_cost_per_1k_tokens_eur: 0.0
output_cost_per_1k_tokens_eur: 0.0

# Optional: Zusätzliche Regeln für die KI-Klassifizierung (mehrzeilig möglich).
# Diese Regeln werden als Ergänzung zum Standard-Prompt genutzt.
custom_prompt_instructions: |
  Bitte lege so wenig neue Tags an wie möglich.
  Nutze bestehende Speicherpfade bevorzugt.

basis_config:
  people:
    owner:
      full_name: "Max Mustermann"
      aliases: []
      address:
        street: "Musterstraße 1"
        postal_code: "12345"
        city: "Musterstadt"
      contact:
        mobile: "0123456789"
      tax:
        tax_number: ""
    household:
      children: []
      relatives: []
    contacts: []
  organizations:
    employer_current:
      name: ""
      preferred_storage_path: ""
    employer_former:
      name: ""
      locations: []
      preferred_storage_path: ""
      only_if_clear_business_context: true
    clubs: []
  identifiers:
    meters: []
  classification_rules:
    document_type:
      invoice_addressed_to_owner: "Rechnung"
      legal_documents_force_type:
        type: "Rechtsanwalt"
        trigger_terms: ["Rechtsanwalt", "Gericht", "Klage", "Beschluss", "Einspruch", "Aktenzeichen"]
    correspondent:
      normalize:
        - if_contains_any: ["Hotel", "Pension", "Unterkunft", "Übernachtung"]
          set_to: "Hotel"
    storage_path:
      mappings: []
      default: "Privat"
    tags:
      add_year_tag_for_invoices: true
      add_customer_number_tag_for_contracts: true
      legal_case_tag_prefers_case_reference: true
      keep_sparse: true
    date:
      prefer_document_date_over_upload_date: true
  guardrails:
    forbidden_path_assignments: []

# Optional: Nur Dokumente mit diesem Tag verarbeiten (z. B. "#NEU").
# Leer lassen = kein Tag-Filter.
process_only_tag: ""

# Wenn true, werden vorhandene Dokumenttypen/Korrespondenten/Speicherpfade
# als Kontext an die KI übergeben, damit bestehende Werte bevorzugt werden.
include_existing_entities_in_prompt: true

# KI-Notizen in Paperless-Notizfeld aktivieren
enable_ai_notes: true

# Maximale Länge der KI-Begründung in der Notiz
ai_notes_max_chars: 800

# Optional: Kurz-Zusammenfassung in KI-Notizen
enable_ai_note_summary: true
ai_note_summary_max_chars: 220
